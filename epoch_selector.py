log = \
"""[00:00:53] ·MAIN· [epoch 0] task cu-cluster-mlm, loss 8.0901, local_loss 6.5081, cluster_loss 1.5819
[00:01:39] ·MAIN· [epoch 1] task cu-cluster-mlm, loss 8.1980, local_loss 6.5606, cluster_loss 1.6374
[00:02:23] ·MAIN· [epoch 2] task cu-cluster-mlm, loss 6.2424, local_loss 4.1027, cluster_loss 2.1397
[00:03:05] ·MAIN· [epoch 3] task cu-cluster-mlm, loss 2.9990, local_loss 0.8179, cluster_loss 2.1811
[00:03:45] ·MAIN· [epoch 4] task cu-cluster-mlm, loss 3.0784, local_loss 0.8643, cluster_loss 2.2141
[00:04:28] ·MAIN· [epoch 5] task cu-cluster-mlm, loss 3.5940, local_loss 1.4127, cluster_loss 2.1813
[00:05:10] ·MAIN· [epoch 6] task cu-cluster-mlm, loss 3.0139, local_loss 0.8053, cluster_loss 2.2086
[00:05:52] ·MAIN· [epoch 7] task cu-cluster-mlm, loss 3.0112, local_loss 0.8036, cluster_loss 2.2076
[00:06:33] ·MAIN· [epoch 8] task cu-cluster-mlm, loss 3.0275, local_loss 0.8051, cluster_loss 2.2224
[00:07:15] ·MAIN· [epoch 9] task cu-cluster-mlm, loss 3.0077, local_loss 0.8038, cluster_loss 2.2039
[00:07:58] ·MAIN· [epoch 10] task cu-cluster-mlm, loss 3.0381, local_loss 0.8049, cluster_loss 2.2332
[00:08:40] ·MAIN· [epoch 11] task cu-cluster-mlm, loss 3.0126, local_loss 0.8206, cluster_loss 2.1920
[00:09:23] ·MAIN· [epoch 12] task cu-cluster-mlm, loss 3.0014, local_loss 0.8172, cluster_loss 2.1842
[00:10:05] ·MAIN· [epoch 13] task cu-cluster-mlm, loss 3.0008, local_loss 0.8019, cluster_loss 2.1990
[00:10:46] ·MAIN· [epoch 14] task cu-cluster-mlm, loss 2.9947, local_loss 0.8188, cluster_loss 2.1759
[00:11:28] ·MAIN· [epoch 15] task cu-cluster-mlm, loss 3.0044, local_loss 0.8002, cluster_loss 2.2042
[00:12:10] ·MAIN· [epoch 16] task cu-cluster-mlm, loss 2.9921, local_loss 0.8005, cluster_loss 2.1916
[00:12:52] ·MAIN· [epoch 17] task cu-cluster-mlm, loss 3.0069, local_loss 0.8028, cluster_loss 2.2041
[00:13:34] ·MAIN· [epoch 18] task cu-cluster-mlm, loss 3.0333, local_loss 0.8027, cluster_loss 2.2306
[00:14:17] ·MAIN· [epoch 19] task cu-cluster-mlm, loss 2.9973, local_loss 0.8014, cluster_loss 2.1959
[00:14:59] ·MAIN· [epoch 20] task cu-cluster-mlm, loss 2.9863, local_loss 0.8000, cluster_loss 2.1863
[00:15:41] ·MAIN· [epoch 21] task cu-cluster-mlm, loss 3.0038, local_loss 0.8188, cluster_loss 2.1850
[00:16:22] ·MAIN· [epoch 22] task cu-cluster-mlm, loss 2.9952, local_loss 0.8004, cluster_loss 2.1949
[00:17:04] ·MAIN· [epoch 23] task cu-cluster-mlm, loss 2.9943, local_loss 0.8005, cluster_loss 2.1938
[00:17:46] ·MAIN· [epoch 24] task cu-cluster-mlm, loss 3.0045, local_loss 0.8001, cluster_loss 2.2044
[00:18:29] ·MAIN· [epoch 25] task cu-cluster-mlm, loss 2.9948, local_loss 0.7992, cluster_loss 2.1957
[00:19:12] ·MAIN· [epoch 26] task cu-cluster-mlm, loss 3.0044, local_loss 0.7997, cluster_loss 2.2048
[00:20:11] ·MAIN· [epoch 27] task cu-cluster-mlm, loss 3.0061, local_loss 0.7985, cluster_loss 2.2076
[00:21:17] ·MAIN· [epoch 28] task cu-cluster-mlm, loss 2.9869, local_loss 0.7990, cluster_loss 2.1879
[00:22:23] ·MAIN· [epoch 29] task cu-cluster-mlm, loss 3.0059, local_loss 0.7984, cluster_loss 2.2074
[00:23:31] ·MAIN· [epoch 30] task cu-cluster-mlm, loss 2.9895, local_loss 0.8190, cluster_loss 2.1705
[00:24:38] ·MAIN· [epoch 31] task cu-cluster-mlm, loss 3.0098, local_loss 0.8003, cluster_loss 2.2095
[00:25:45] ·MAIN· [epoch 32] task cu-cluster-mlm, loss 3.0332, local_loss 0.8187, cluster_loss 2.2145
[00:26:52] ·MAIN· [epoch 33] task cu-cluster-mlm, loss 2.9945, local_loss 0.7991, cluster_loss 2.1954
[00:28:02] ·MAIN· [epoch 34] task cu-cluster-mlm, loss 3.0174, local_loss 0.8190, cluster_loss 2.1984
[00:28:44] ·MAIN· [epoch 35] task cu-cluster-mlm, loss 3.0007, local_loss 0.7995, cluster_loss 2.2012
[00:29:26] ·MAIN· [epoch 36] task cu-cluster-mlm, loss 3.0249, local_loss 0.8165, cluster_loss 2.2084
[00:30:08] ·MAIN· [epoch 37] task cu-cluster-mlm, loss 2.9945, local_loss 0.7980, cluster_loss 2.1965
[00:30:50] ·MAIN· [epoch 38] task cu-cluster-mlm, loss 2.9926, local_loss 0.7991, cluster_loss 2.1936
[00:31:31] ·MAIN· [epoch 39] task cu-cluster-mlm, loss 2.9849, local_loss 0.7978, cluster_loss 2.1871
[00:32:13] ·MAIN· [epoch 40] task cu-cluster-mlm, loss 3.0148, local_loss 0.8191, cluster_loss 2.1957
[00:32:55] ·MAIN· [epoch 41] task cu-cluster-mlm, loss 3.0068, local_loss 0.7989, cluster_loss 2.2080
[00:33:38] ·MAIN· [epoch 42] task cu-cluster-mlm, loss 3.0037, local_loss 0.8010, cluster_loss 2.2027
[00:34:19] ·MAIN· [epoch 43] task cu-cluster-mlm, loss 3.0010, local_loss 0.7987, cluster_loss 2.2023
[00:35:01] ·MAIN· [epoch 44] task cu-cluster-mlm, loss 2.9966, local_loss 0.7983, cluster_loss 2.1983
[00:35:44] ·MAIN· [epoch 45] task cu-cluster-mlm, loss 3.0189, local_loss 0.8200, cluster_loss 2.1988
[00:36:50] ·MAIN· [epoch 46] task cu-cluster-mlm, loss 2.9941, local_loss 0.7977, cluster_loss 2.1964
[00:37:56] ·MAIN· [epoch 47] task cu-cluster-mlm, loss 3.0096, local_loss 0.7988, cluster_loss 2.2108
[00:39:03] ·MAIN· [epoch 48] task cu-cluster-mlm, loss 3.0067, local_loss 0.8001, cluster_loss 2.2066
[00:40:13] ·MAIN· [epoch 49] task cu-cluster-mlm, loss 3.0085, local_loss 0.7992, cluster_loss 2.2093
[00:41:19] ·MAIN· [epoch 50] task cu-cluster-mlm, loss 3.0099, local_loss 0.7977, cluster_loss 2.2122
[00:42:00] ·MAIN· [epoch 51] task cu-cluster-mlm, loss 2.9915, local_loss 0.7979, cluster_loss 2.1936
[00:42:42] ·MAIN· [epoch 52] task cu-cluster-mlm, loss 3.0147, local_loss 0.7981, cluster_loss 2.2166
[00:43:24] ·MAIN· [epoch 53] task cu-cluster-mlm, loss 3.0051, local_loss 0.7977, cluster_loss 2.2074
[00:44:06] ·MAIN· [epoch 54] task cu-cluster-mlm, loss 3.0137, local_loss 0.7982, cluster_loss 2.2155
[00:44:48] ·MAIN· [epoch 55] task cu-cluster-mlm, loss 2.9867, local_loss 0.7965, cluster_loss 2.1902
[00:45:29] ·MAIN· [epoch 56] task cu-cluster-mlm, loss 3.0103, local_loss 0.7982, cluster_loss 2.2121
[00:46:10] ·MAIN· [epoch 57] task cu-cluster-mlm, loss 3.0295, local_loss 0.8212, cluster_loss 2.2083
[00:46:52] ·MAIN· [epoch 58] task cu-cluster-mlm, loss 3.0053, local_loss 0.7980, cluster_loss 2.2072
[00:47:44] ·MAIN· [epoch 59] task cu-cluster-mlm, loss 2.9898, local_loss 0.7973, cluster_loss 2.1925
[00:48:28] ·MAIN· [epoch 60] task cu-cluster-mlm, loss 3.0052, local_loss 0.7993, cluster_loss 2.2059
[00:49:10] ·MAIN· [epoch 61] task cu-cluster-mlm, loss 3.0114, local_loss 0.7980, cluster_loss 2.2133
[00:49:51] ·MAIN· [epoch 62] task cu-cluster-mlm, loss 3.0013, local_loss 0.7971, cluster_loss 2.2042
[00:50:38] ·MAIN· [epoch 63] task cu-cluster-mlm, loss 3.0043, local_loss 0.7968, cluster_loss 2.2075
[00:51:40] ·MAIN· [epoch 64] task cu-cluster-mlm, loss 3.0062, local_loss 0.7983, cluster_loss 2.2079
[00:52:22] ·MAIN· [epoch 65] task cu-cluster-mlm, loss 3.0091, local_loss 0.7981, cluster_loss 2.2110
[00:53:01] ·MAIN· [epoch 66] task cu-cluster-mlm, loss 3.0057, local_loss 0.7977, cluster_loss 2.2079
[00:53:47] ·MAIN· [epoch 67] task cu-cluster-mlm, loss 2.9996, local_loss 0.7975, cluster_loss 2.2021
[00:54:58] ·MAIN· [epoch 68] task cu-cluster-mlm, loss 2.9982, local_loss 0.7947, cluster_loss 2.2036
[00:56:09] ·MAIN· [epoch 69] task cu-cluster-mlm, loss 3.0052, local_loss 0.7965, cluster_loss 2.2087
[00:57:18] ·MAIN· [epoch 70] task cu-cluster-mlm, loss 3.0113, local_loss 0.7977, cluster_loss 2.2135
[00:58:28] ·MAIN· [epoch 71] task cu-cluster-mlm, loss 3.0037, local_loss 0.7979, cluster_loss 2.2059
[00:59:35] ·MAIN· [epoch 72] task cu-cluster-mlm, loss 3.0072, local_loss 0.7982, cluster_loss 2.2090
[01:00:42] ·MAIN· [epoch 73] task cu-cluster-mlm, loss 3.0098, local_loss 0.7968, cluster_loss 2.2130
[01:01:47] ·MAIN· [epoch 74] task cu-cluster-mlm, loss 3.0018, local_loss 0.7972, cluster_loss 2.2047
[01:02:56] ·MAIN· [epoch 75] task cu-cluster-mlm, loss 3.0055, local_loss 0.7961, cluster_loss 2.2094
[01:04:01] ·MAIN· [epoch 76] task cu-cluster-mlm, loss 3.0098, local_loss 0.7980, cluster_loss 2.2118
[01:05:08] ·MAIN· [epoch 77] task cu-cluster-mlm, loss 3.0087, local_loss 0.7961, cluster_loss 2.2126
[01:06:16] ·MAIN· [epoch 78] task cu-cluster-mlm, loss 3.0054, local_loss 0.7969, cluster_loss 2.2085
[01:07:19] ·MAIN· [epoch 79] task cu-cluster-mlm, loss 3.0094, local_loss 0.7971, cluster_loss 2.2123
[01:08:27] ·MAIN· [epoch 80] task cu-cluster-mlm, loss 2.9998, local_loss 0.7974, cluster_loss 2.2024
[01:09:33] ·MAIN· [epoch 81] task cu-cluster-mlm, loss 3.0037, local_loss 0.7964, cluster_loss 2.2072
[01:10:41] ·MAIN· [epoch 82] task cu-cluster-mlm, loss 3.0039, local_loss 0.7980, cluster_loss 2.2060
[01:11:50] ·MAIN· [epoch 83] task cu-cluster-mlm, loss 3.0080, local_loss 0.7970, cluster_loss 2.2110
[01:13:00] ·MAIN· [epoch 84] task cu-cluster-mlm, loss 3.0053, local_loss 0.7972, cluster_loss 2.2081
[01:14:12] ·MAIN· [epoch 85] task cu-cluster-mlm, loss 3.0022, local_loss 0.7969, cluster_loss 2.2053
[01:15:24] ·MAIN· [epoch 86] task cu-cluster-mlm, loss 3.0083, local_loss 0.7965, cluster_loss 2.2118
[01:16:37] ·MAIN· [epoch 87] task cu-cluster-mlm, loss 3.0078, local_loss 0.7961, cluster_loss 2.2117
[01:17:50] ·MAIN· [epoch 88] task cu-cluster-mlm, loss 3.0083, local_loss 0.7966, cluster_loss 2.2117
[01:19:03] ·MAIN· [epoch 89] task cu-cluster-mlm, loss 3.0116, local_loss 0.7960, cluster_loss 2.2157
[01:20:15] ·MAIN· [epoch 90] task cu-cluster-mlm, loss 3.0084, local_loss 0.7955, cluster_loss 2.2129
[01:21:28] ·MAIN· [epoch 91] task cu-cluster-mlm, loss 3.0091, local_loss 0.7975, cluster_loss 2.2116
[01:22:41] ·MAIN· [epoch 92] task cu-cluster-mlm, loss 3.0081, local_loss 0.7964, cluster_loss 2.2116
[01:23:53] ·MAIN· [epoch 93] task cu-cluster-mlm, loss 3.0097, local_loss 0.7968, cluster_loss 2.2130
[01:24:56] ·MAIN· [epoch 94] task cu-cluster-mlm, loss 3.0127, local_loss 0.7956, cluster_loss 2.2171
[01:25:41] ·MAIN· [epoch 95] task cu-cluster-mlm, loss 3.0101, local_loss 0.7967, cluster_loss 2.2134
[01:26:26] ·MAIN· [epoch 96] task cu-cluster-mlm, loss 3.0126, local_loss 0.7968, cluster_loss 2.2158
[01:27:10] ·MAIN· [epoch 97] task cu-cluster-mlm, loss 3.0141, local_loss 0.7971, cluster_loss 2.2170
[01:27:55] ·MAIN· [epoch 98] task cu-cluster-mlm, loss 3.0079, local_loss 0.7955, cluster_loss 2.2124
[01:28:39] ·MAIN· [epoch 99] task cu-cluster-mlm, loss 3.0101, local_loss 0.7964, cluster_loss 2.2136"""

log = log.split('\n')

losses = []
for index, line in enumerate(log):
    # if (index + 1) % 5:
    #     continue
    _, _, _, _, _, _, _, loss, _, local_loss, _, cluster_loss = line.split(' ')
    loss = loss[:-1]
    local_loss = local_loss[:-1]
    losses.append([float(loss), float(local_loss), float(cluster_loss)])


removed = [False] * len(losses)
for i in range(len(losses)):
    if (i + 1) % 5:
        removed[i] = True

for i in range(10):
    removed[i] = True

for i in range(len(losses)):
    for j in range(len(losses)):
        if removed[i] or removed[j] or i == j:
            continue
        if losses[i][0] <= losses[j][0] and losses[i][1] <= losses[j][1] and losses[i][2] <= losses[j][2]:
            removed[j] = True

for i in range(len(losses)):
    if not removed[i]:
        print(i, losses[i])
